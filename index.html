<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src='/graph.js'></script></head>
<body>
	<h1>Mushrooms</h1>
	<h2>Cap Shape</h2>
	<select name="attribute" id="attributeSelect" onChange="refresh()">
	</select>
	<div id="mushroomChart"></div>
	<script type="text/javascript">
		var attributes = {'cap-shape': "Cap Shape", 'cap-surface': "Cap Surface", 'cap-color': "Cap Color", 'bruises': "Bruises", 'odor': "Odor"};
		var attributeSelect = document.getElementById("attributeSelect");
		for(attribute in attributes) {
			var option = document.createElement("OPTION");
			option.value = attribute
			option.innerHTML = attributes[attribute];
			attributeSelect.appendChild(option);
		}

		function refresh(){
			d3.csv("/mushrooms.csv", function(d) {
				makeGraph(d,document.getElementById("attributeSelect").value);
			});
		}
		refresh();
	</script>
</body>
</html>
